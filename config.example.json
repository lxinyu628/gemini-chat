{
  "_comment": "Gemini Business API 配置文件示例",
  "_comment_usage": "复制此文件为 config.json 并填入实际配置",
  "server": {
    "_comment": "服务器配置",
    "host": "0.0.0.0",
    "port": 8000,
    "workers": 4,
    "log_level": "INFO",
    "reload": false
  },
  "proxy": {
    "_comment": "代理配置 - 留空或设置 enabled=false 则不使用代理",
    "enabled": true,
    "url": "socks5h://127.0.0.1:10808",
    "timeout": 30
  },
  "session": {
    "_comment": "Gemini 会话配置 - 通过登录自动获取",
    "_comment_project_id": "project_id 用于构造图片下载 URL，从 Gemini 控制台 URL 获取，格式如 809647553860",
    "secure_c_ses": "",
    "host_c_oses": "",
    "nid": "",
    "csesidx": "",
    "group_id": "",
    "project_id": "",
    "cookies_saved_at": "",
    "cookie_raw": "",
    "cookie_profile_dir": ""
  },
  "browser_keep_alive": {
    "_comment": "浏览器保活配置 - 使用 Playwright 定期访问保持 Cookie 有效",
    "_comment_enabled": "设为 true 启用浏览器保活（需要 Playwright）",
    "_comment_interval": "保活间隔（分钟），建议 30-60 分钟",
    "_comment_headless": "是否无头模式，true=后台运行，false=显示浏览器窗口",
    "enabled": false,
    "interval_minutes": 60,
    "headless": true
  },
  "remote_browser": {
    "_comment": "远程浏览器配置 - 用于登录和 Cookie 刷新",
    "_comment_headless": "是否无头模式，Linux服务器设为true，Windows本地可设为false以显示浏览器窗口",
    "headless": true
  },
  "security": {
    "_comment": "安全配置 - 智能双模式验证",
    "_comment_admin_password": "管理密码（明文存储），用于保护 API Key 管理界面",
    "_comment_require_api_key": "是否要求第三方客户端使用 API Key。设为 true 后：① 网页前端仍可通过 Cookie 登录访问（无需 API Key）；② 第三方客户端（Cherry Studio、Lobe Chat 等）需提供 Authorization: Bearer sk-xxx",
    "admin_password": "",
    "require_api_key": false
  },
  "redis": {
    "_comment": "Redis 配置 - 用于多 worker 模式下的状态共享",
    "_comment_enabled": "是否启用 Redis，启用后可使用多 worker 模式提升并发性能",
    "_comment_host": "Redis 服务器地址",
    "_comment_port": "Redis 服务器端口",
    "_comment_password": "Redis 密码，如无密码留空",
    "_comment_db": "Redis 数据库编号，默认 0",
    "_comment_key_prefix": "Redis key 前缀，避免与其他应用冲突",
    "enabled": false,
    "host": "127.0.0.1",
    "port": 6379,
    "password": "",
    "db": 0,
    "key_prefix": "gemini_chat:"
  },
  "imap": {
    "_comment": "IMAP 邮箱配置 - 用于自动读取 Google 验证码",
    "_comment_enabled": "是否启用 IMAP 验证码读取，启用后可自动从邮箱获取验证码",
    "_comment_host": "IMAP 服务器地址（QQ邮箱: imap.qq.com, Outlook: outlook.office365.com, Gmail: imap.gmail.com）",
    "_comment_port": "IMAP 服务器端口，通常为 993 (SSL)",
    "_comment_user": "邮箱账号",
    "_comment_password": "邮箱密码或授权码（QQ邮箱需生成授权码，Gmail需应用专用密码）",
    "_comment_sender_filter": "发件人过滤，Google Cloud 验证码发件人",
    "_comment_timeout": "等待验证码超时时间（秒），默认 180 秒（3 分钟）",
    "_comment_auto_login": "配合 browser_keep_alive 使用：session 过期时自动启动浏览器登录",
    "enabled": false,
    "host": "",
    "port": 993,
    "user": "",
    "password": "",
    "use_ssl": true,
    "folder": "INBOX",
    "sender_filter": "noreply-googlecloud",
    "code_pattern": "class=\"x_verification-code\">([A-Z0-9]{6})</span>",
    "max_age_seconds": 300,
    "timeout_seconds": 180,
    "poll_interval": 5,
    "auto_login": true
  }
}